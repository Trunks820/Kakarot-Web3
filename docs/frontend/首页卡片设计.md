# ç›‘æ§ç³»ç»Ÿ - å‰ç«¯å®Œæ•´è®¾è®¡æ–¹æ¡ˆ

## ğŸ“ æ•´ä½“å¸ƒå±€

```
é¦–é¡µï¼ˆDashboardï¼‰
â”œâ”€ é¡¶éƒ¨æ ‡é¢˜åŒº
â”‚  â””â”€ "ç›‘æ§ç³»ç»Ÿ V2.0"
â”‚
â”œâ”€ å¡ç‰‡åŒºåŸŸï¼ˆGrid 3åˆ—å¸ƒå±€ï¼Œå“åº”å¼ï¼‰
â”‚  â”œâ”€ å¡ç‰‡1ï¼šç›‘æ§é…ç½®ç®¡ç†ï¼ˆé…ç½®CRUDï¼‰
â”‚  â”œâ”€ å¡ç‰‡2ï¼šç›‘æ§ä»»åŠ¡ç®¡ç†ï¼ˆä»»åŠ¡ç®¡ç†ï¼‰
â”‚  â””â”€ å¡ç‰‡3ï¼šæ‰¹æ¬¡æ‰§è¡ŒçŠ¶æ€ï¼ˆå®æ—¶ç›‘æ§ï¼‰
â”‚
â””â”€ é€šçŸ¥ä¸­å¿ƒï¼ˆå·²æœ‰ç»„ä»¶ï¼Œå±•ç¤ºå‘Šè­¦ï¼‰
   â””â”€ æ˜¾ç¤ºæ¥è‡ª monitor_alert_log_v2 çš„å®æ—¶å‘Šè­¦
```

**ä¸‰å¡ç‰‡ä¸šåŠ¡é—­ç¯ï¼š**
```
é…ç½®ç®¡ç† â†’ ä»»åŠ¡ç®¡ç† â†’ æ‰¹æ¬¡æ‰§è¡Œ
   â†“          â†“          â†“
åˆ›å»ºè§„åˆ™    åº”ç”¨é…ç½®    å®æ—¶è¿è¡Œ
```

---

## ğŸ´ å¡ç‰‡1ï¼šç›‘æ§é…ç½®ç®¡ç†

### åŠŸèƒ½å®šä½
å±•ç¤ºæ‰€æœ‰ç›‘æ§é…ç½®è§„åˆ™çš„æ€»è§ˆï¼Œç”¨æˆ·å¯å¿«é€Ÿè¿›å…¥é…ç½®ç®¡ç†

### è§†è§‰è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š ç›‘æ§é…ç½®                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚        â”‚             â”‚              â”‚
â”‚        â”‚     15      â”‚              â”‚
â”‚        â”‚   ä¸ªé…ç½®    â”‚              â”‚
â”‚        â”‚             â”‚              â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€ ç³»ç»Ÿé¢„è®¾ï¼š3 ä¸ª                 â”‚
â”‚  â””â”€ ç”¨æˆ·è‡ªå®šä¹‰ï¼š12 ä¸ª               â”‚
â”‚                                     â”‚
â”‚  æœ€è¿‘æ›´æ–°ï¼š2åˆ†é’Ÿå‰                  â”‚
â”‚                                     â”‚
â”‚  [â• æ–°å»ºé…ç½®]  [ğŸ“‹ ç®¡ç†é…ç½®]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æ¥å£

```javascript
// API: GET /api/v2/monitor/config/stats
{
  "total": 15,
  "preset": 3,
  "custom": 12,
  "recentUpdate": "2024-11-09T14:30:00Z",
  "byCategory": {
    "preset": 3,
    "custom": 12
  },
  "byChain": {
    "sol": 8,
    "bsc": 5,
    "eth": 2
  }
}
```

### äº¤äº’è¡Œä¸º
- **ç‚¹å‡»"æ–°å»ºé…ç½®"**ï¼šè·³è½¬åˆ° `/monitor/config/create`
- **ç‚¹å‡»"ç®¡ç†é…ç½®"**ï¼šè·³è½¬åˆ° `/monitor/config/list`
- **ç‚¹å‡»å¡ç‰‡æœ¬èº«**ï¼šè·³è½¬åˆ° `/monitor/config/list`
- **hover æ•ˆæœ**ï¼šå¡ç‰‡é˜´å½±åŠ æ·±ï¼Œè¾¹æ¡†é«˜äº®

---

## ğŸ´ å¡ç‰‡2ï¼šç›‘æ§ä»»åŠ¡ç®¡ç†

### åŠŸèƒ½å®šä½
å±•ç¤ºå½“å‰è¿è¡Œçš„ç›‘æ§ä»»åŠ¡çŠ¶æ€ï¼ŒåŒ…æ‹¬æ™ºèƒ½ç›‘æ§å’Œæ‰¹é‡ç›‘æ§

### è§†è§‰è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ ç›‘æ§ä»»åŠ¡                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚        â”‚             â”‚              â”‚
â”‚        â”‚     32      â”‚              â”‚
â”‚        â”‚   ä¸ªä»»åŠ¡    â”‚              â”‚
â”‚        â”‚             â”‚              â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                     â”‚
â”‚  ğŸŸ¢ è¿è¡Œä¸­ï¼š28 ä¸ª                   â”‚
â”‚  ğŸŸ¡ æš‚åœä¸­ï¼š3 ä¸ª                    â”‚
â”‚  ğŸ”´ å¼‚å¸¸ï¼š1 ä¸ª                      â”‚
â”‚                                     â”‚
â”‚  ç›‘æ§ç›®æ ‡ï¼š1,899 ä¸ª CA              â”‚
â”‚  æ‰¹æ¬¡æ•°é‡ï¼š21 ä¸ªæ‰¹æ¬¡                â”‚
â”‚                                     â”‚
â”‚  [â• æ–°å»ºä»»åŠ¡]  [ğŸ“Š æŸ¥çœ‹è¯¦æƒ…]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æ¥å£

```javascript
// API: GET /api/v2/monitor/task/stats
{
  "total": 32,
  "running": 28,
  "paused": 3,
  "error": 1,
  "byType": {
    "smart": 20,
    "batch": 12,
    "block": 0
  },
  "targetCount": 1899,
  "batchCount": 21,
  "todayAlerts": 128,
  "lastUpdate": "2024-11-09T14:35:00Z"
}
```

### äº¤äº’è¡Œä¸º
- **ç‚¹å‡»"æ–°å»ºä»»åŠ¡"**ï¼šå¼¹å‡ºä»»åŠ¡ç±»å‹é€‰æ‹©ï¼ˆæ™ºèƒ½ç›‘æ§/æ‰¹é‡ç›‘æ§ï¼‰
- **ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"**ï¼šè·³è½¬åˆ° `/monitor/task/list`
- **ç‚¹å‡»çŠ¶æ€æ•°å­—**ï¼ˆå¦‚"è¿è¡Œä¸­ï¼š28"ï¼‰ï¼šè·³è½¬å¹¶ç­›é€‰å¯¹åº”çŠ¶æ€
- **ç‚¹å‡»å¡ç‰‡æœ¬èº«**ï¼šè·³è½¬åˆ° `/monitor/task/list`

---

## ğŸ´ å¡ç‰‡3ï¼šæ‰¹æ¬¡æ‰§è¡ŒçŠ¶æ€

### åŠŸèƒ½å®šä½
å±•ç¤º WebSocket æ‰¹æ¬¡çš„å®æ—¶æ‰§è¡Œæƒ…å†µå’Œå¥åº·çŠ¶æ€

### è§†è§‰è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš¡ æ‰¹æ¬¡æ‰§è¡Œ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚        â”‚             â”‚              â”‚
â”‚        â”‚     21      â”‚              â”‚
â”‚        â”‚  ä¸ªæ‰¹æ¬¡     â”‚              â”‚
â”‚        â”‚             â”‚              â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                     â”‚
â”‚  ğŸŸ¢ è¿è¡Œä¸­ï¼š18 ä¸ª                   â”‚
â”‚  ğŸŸ¡ æš‚åœï¼š2 ä¸ª                      â”‚
â”‚  ğŸ”´ å¼‚å¸¸ï¼š1 ä¸ª                      â”‚
â”‚                                     â”‚
â”‚  ç›‘æ§ç›®æ ‡ï¼š1,899 ä¸ª                 â”‚
â”‚  å¿ƒè·³æ­£å¸¸ï¼š20 / 21                  â”‚
â”‚                                     â”‚
â”‚  [ğŸ” æŸ¥çœ‹è¯¦æƒ…]  [ğŸ”„ åˆ·æ–°]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æ¥å£

```javascript
// API: GET /api/v2/monitor/batch/stats
{
  "total": 21,
  "running": 18,
  "paused": 2,
  "error": 1,
  "pending": 0,
  "targetCount": 1899,
  "heartbeatNormal": 20,
  "heartbeatTimeout": 1,
  "avgLatency": 125,  // å¹³å‡å»¶è¿Ÿ(ms)
  "errorBatches": [
    {
      "batchId": 15,
      "taskId": 8,
      "taskName": "BSCæ™ºèƒ½ç›‘æ§-æ‰¹æ¬¡15",
      "error": "å¿ƒè·³è¶…æ—¶",
      "lastHeartbeat": "2024-11-09T14:30:00Z"
    }
  ],
  "lastUpdate": "2024-11-09T14:35:00Z"
}
```

### äº¤äº’è¡Œä¸º
- **ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"**ï¼šè·³è½¬åˆ° `/monitor/batch/list`ï¼ˆæ‰¹æ¬¡åˆ—è¡¨é¡µï¼‰
- **ç‚¹å‡»"åˆ·æ–°"**ï¼šæ‰‹åŠ¨åˆ·æ–°æ‰¹æ¬¡çŠ¶æ€
- **ç‚¹å‡»å¼‚å¸¸æ•°å­—**ï¼šå¼¹å‡ºå¼‚å¸¸æ‰¹æ¬¡åˆ—è¡¨ï¼Œå¯å¿«é€Ÿé‡å¯
- **å®æ—¶æ›´æ–°**ï¼šæ¯10ç§’è‡ªåŠ¨åˆ·æ–°ï¼Œå¿ƒè·³çŠ¶æ€å®æ—¶å˜åŒ–

---

## ğŸ¨ æ ·å¼è§„èŒƒ

### é…è‰²æ–¹æ¡ˆ

```css
/* å¡ç‰‡èƒŒæ™¯ */
--card-bg: #ffffff;
--card-border: #e5e7eb;
--card-shadow: 0 1px 3px rgba(0,0,0,0.1);
--card-shadow-hover: 0 4px 12px rgba(0,0,0,0.15);

/* å›¾æ ‡é¢œè‰² */
--icon-config: #3b82f6;   /* è“è‰² */
--icon-task: #10b981;     /* ç»¿è‰² */
--icon-batch: #f59e0b;    /* æ©™è‰² */

/* çŠ¶æ€é¢œè‰² */
--status-running: #10b981;  /* ç»¿è‰² */
--status-paused: #f59e0b;   /* é»„è‰² */
--status-error: #ef4444;    /* çº¢è‰² */

/* æ–‡å­—é¢œè‰² */
--text-primary: #111827;
--text-secondary: #6b7280;
--text-muted: #9ca3af;
```

### å­—ä½“å¤§å°

```css
/* æ ‡é¢˜ */
.card-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
}

/* ä¸»æ•°å­— */
.card-number {
  font-size: 48px;
  font-weight: 700;
  color: var(--text-primary);
}

/* ç»Ÿè®¡é¡¹ */
.card-stat {
  font-size: 14px;
  color: var(--text-secondary);
}

/* æ¬¡è¦ä¿¡æ¯ */
.card-meta {
  font-size: 12px;
  color: var(--text-muted);
}
```

### å°ºå¯¸è§„èŒƒ

```css
/* å¡ç‰‡å°ºå¯¸ */
.dashboard-card {
  min-height: 320px;
  padding: 24px;
  border-radius: 12px;
  border: 1px solid var(--card-border);
  background: var(--card-bg);
  transition: all 0.3s ease;
}

/* å“åº”å¼å¸ƒå±€ */
@media (min-width: 1024px) {
  .card-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
  }
}

@media (max-width: 1023px) {
  .card-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
  }
}
```

---

## ğŸ”§ ç»„ä»¶å®ç°ï¼ˆVue 3 ç¤ºä¾‹ï¼‰

### MonitorDashboard.vue

```vue
<template>
  <div class="monitor-dashboard">
    <div class="dashboard-header">
      <h1>ç›‘æ§ç³»ç»Ÿ</h1>
      <span class="version">V2.0</span>
    </div>
    
    <div class="card-grid">
      <!-- å¡ç‰‡1ï¼šç›‘æ§é…ç½® -->
      <ConfigCard :stats="configStats" @create="handleCreateConfig" />
      
      <!-- å¡ç‰‡2ï¼šç›‘æ§ä»»åŠ¡ -->
      <TaskCard :stats="taskStats" @create="handleCreateTask" />
      
      <!-- å¡ç‰‡3ï¼šæ‰¹æ¬¡æ‰§è¡Œ -->
      <BatchCard :stats="batchStats" @refresh="loadStats" />
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import ConfigCard from './components/ConfigCard.vue'
import TaskCard from './components/TaskCard.vue'
import BatchCard from './components/BatchCard.vue'
import { getConfigStats, getTaskStats, getBatchStats } from '@/api/monitor'

const configStats = ref({})
const taskStats = ref({})
const batchStats = ref({})

// åŠ è½½æ•°æ®
const loadStats = async () => {
  const [config, task, batch] = await Promise.all([
    getConfigStats(),
    getTaskStats(),
    getBatchStats()
  ])
  
  configStats.value = config
  taskStats.value = task
  batchStats.value = batch
}

// å¤„ç†äº‹ä»¶
const handleCreateConfig = () => {
  router.push('/monitor/config/create')
}

const handleCreateTask = () => {
  // å¼¹å‡ºä»»åŠ¡ç±»å‹é€‰æ‹©
}

onMounted(() => {
  loadStats()
  
  // æ¯30ç§’åˆ·æ–°ä¸€æ¬¡
  setInterval(loadStats, 30000)
})
</script>

<style scoped>
.monitor-dashboard {
  padding: 24px;
  background: #f9fafb;
  min-height: 100vh;
}

.dashboard-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
}

.dashboard-header h1 {
  font-size: 28px;
  font-weight: 700;
  color: #111827;
}

.version {
  padding: 4px 12px;
  background: #e0e7ff;
  color: #4f46e5;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 24px;
}

@media (min-width: 1024px) {
  .card-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}
</style>
```

### ConfigCard.vue

```vue
<template>
  <div class="dashboard-card config-card" @click="$router.push('/monitor/config/list')">
    <div class="card-header">
      <div class="card-icon">ğŸ“Š</div>
      <h3 class="card-title">ç›‘æ§é…ç½®</h3>
    </div>
    
    <div class="card-body">
      <div class="card-number">{{ stats.total || 0 }}</div>
      <div class="card-unit">ä¸ªé…ç½®</div>
      
      <div class="card-stats">
        <div class="stat-item">
          <span class="stat-label">ç³»ç»Ÿé¢„è®¾ï¼š</span>
          <span class="stat-value">{{ stats.preset || 0 }} ä¸ª</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">ç”¨æˆ·è‡ªå®šä¹‰ï¼š</span>
          <span class="stat-value">{{ stats.custom || 0 }} ä¸ª</span>
        </div>
      </div>
      
      <div class="card-meta">
        æœ€è¿‘æ›´æ–°ï¼š{{ formatTime(stats.recentUpdate) }}
      </div>
    </div>
    
    <div class="card-footer">
      <button class="btn-secondary" @click.stop="$emit('create')">
        â• æ–°å»ºé…ç½®
      </button>
      <button class="btn-primary">
        ğŸ“‹ ç®¡ç†é…ç½®
      </button>
    </div>
  </div>
</template>

<script setup>
defineProps({
  stats: {
    type: Object,
    default: () => ({})
  }
})

defineEmits(['create'])

const formatTime = (time) => {
  if (!time) return '-'
  const now = new Date()
  const target = new Date(time)
  const diff = Math.floor((now - target) / 1000)
  
  if (diff < 60) return `${diff}ç§’å‰`
  if (diff < 3600) return `${Math.floor(diff / 60)}åˆ†é’Ÿå‰`
  if (diff < 86400) return `${Math.floor(diff / 3600)}å°æ—¶å‰`
  return `${Math.floor(diff / 86400)}å¤©å‰`
}
</script>

<style scoped>
.dashboard-card {
  min-height: 320px;
  padding: 24px;
  border-radius: 12px;
  border: 1px solid #e5e7eb;
  background: #ffffff;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
}

.dashboard-card:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  transform: translateY(-2px);
}

.card-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
}

.card-icon {
  font-size: 24px;
}

.card-title {
  font-size: 18px;
  font-weight: 600;
  color: #111827;
}

.card-body {
  flex: 1;
  text-align: center;
}

.card-number {
  font-size: 48px;
  font-weight: 700;
  color: #111827;
  line-height: 1;
}

.card-unit {
  font-size: 14px;
  color: #6b7280;
  margin-top: 8px;
  margin-bottom: 24px;
}

.card-stats {
  margin-top: 20px;
  padding: 16px;
  background: #f9fafb;
  border-radius: 8px;
}

.stat-item {
  display: flex;
  justify-content: space-between;
  padding: 4px 0;
  font-size: 14px;
}

.stat-label {
  color: #6b7280;
}

.stat-value {
  color: #111827;
  font-weight: 500;
}

.card-meta {
  margin-top: 12px;
  font-size: 12px;
  color: #9ca3af;
}

.card-footer {
  display: flex;
  gap: 12px;
  margin-top: 20px;
}

.btn-primary,
.btn-secondary {
  flex: 1;
  padding: 10px 16px;
  border-radius: 8px;
  border: none;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-primary {
  background: #3b82f6;
  color: white;
}

.btn-primary:hover {
  background: #2563eb;
}

.btn-secondary {
  background: #f3f4f6;
  color: #374151;
}

.btn-secondary:hover {
  background: #e5e7eb;
}
</style>
```

---

## ğŸ“± å“åº”å¼è®¾è®¡

### æ¡Œé¢ç«¯ï¼ˆâ‰¥1024pxï¼‰
- 3åˆ—ç½‘æ ¼å¸ƒå±€
- å¡ç‰‡å®½åº¦å‡ç­‰
- é—´è· 24px

### å¹³æ¿ç«¯ï¼ˆ768px - 1023pxï¼‰
- 2åˆ—ç½‘æ ¼å¸ƒå±€
- ç¬¬ä¸‰ä¸ªå¡ç‰‡å æ»¡ä¸€è¡Œ
- é—´è· 20px

### ç§»åŠ¨ç«¯ï¼ˆ<768pxï¼‰
- å•åˆ—å¸ƒå±€
- å¡ç‰‡å æ»¡å±å¹•å®½åº¦
- é—´è· 16px
- æ•°å­—å­—ä½“é€‚å½“ç¼©å°

---

## ğŸ“ å®Œæ•´å‰ç«¯æ–¹æ¡ˆ

### é¡µé¢è·¯ç”±è§„åˆ’

```
/monitor                           # ç›‘æ§ç³»ç»Ÿå…¥å£ï¼ˆé¦–é¡µï¼‰
â”œâ”€â”€ /config                        # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ /list                      # é…ç½®åˆ—è¡¨
â”‚   â”œâ”€â”€ /create                    # åˆ›å»ºé…ç½®
â”‚   â””â”€â”€ /edit/:id                  # ç¼–è¾‘é…ç½®
â”‚
â”œâ”€â”€ /task                          # ä»»åŠ¡ç®¡ç†
â”‚   â”œâ”€â”€ /list                      # ä»»åŠ¡åˆ—è¡¨
â”‚   â”œâ”€â”€ /create                    # åˆ›å»ºä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ ?type=smart           # æ™ºèƒ½ç›‘æ§
â”‚   â”‚   â””â”€â”€ ?type=batch           # æ‰¹é‡ç›‘æ§
â”‚   â”œâ”€â”€ /edit/:id                  # ç¼–è¾‘ä»»åŠ¡
â”‚   â””â”€â”€ /detail/:id                # ä»»åŠ¡è¯¦æƒ…
â”‚
â”œâ”€â”€ /batch                         # æ‰¹æ¬¡ç®¡ç†
â”‚   â”œâ”€â”€ /list                      # æ‰¹æ¬¡åˆ—è¡¨
â”‚   â””â”€â”€ /detail/:id                # æ‰¹æ¬¡è¯¦æƒ…
â”‚
â””â”€â”€ /alert                         # å‘Šè­¦ç®¡ç†ï¼ˆå¯é€‰ï¼Œæˆ–ç”¨ç°æœ‰é€šçŸ¥ä¸­å¿ƒï¼‰
    â””â”€â”€ /list                      # å‘Šè­¦åˆ—è¡¨
```

### ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ views/
â”‚   â””â”€â”€ monitor/
â”‚       â”œâ”€â”€ Dashboard.vue          # é¦–é¡µï¼ˆä¸‰ä¸ªå¡ç‰‡ï¼‰
â”‚       â”‚
â”‚       â”œâ”€â”€ config/
â”‚       â”‚   â”œâ”€â”€ ConfigList.vue     # é…ç½®åˆ—è¡¨
â”‚       â”‚   â”œâ”€â”€ ConfigCreate.vue   # åˆ›å»ºé…ç½®
â”‚       â”‚   â””â”€â”€ ConfigEdit.vue     # ç¼–è¾‘é…ç½®
â”‚       â”‚
â”‚       â”œâ”€â”€ task/
â”‚       â”‚   â”œâ”€â”€ TaskList.vue       # ä»»åŠ¡åˆ—è¡¨
â”‚       â”‚   â”œâ”€â”€ TaskCreate.vue     # åˆ›å»ºä»»åŠ¡
â”‚       â”‚   â”œâ”€â”€ TaskEdit.vue       # ç¼–è¾‘ä»»åŠ¡
â”‚       â”‚   â””â”€â”€ TaskDetail.vue     # ä»»åŠ¡è¯¦æƒ…
â”‚       â”‚
â”‚       â””â”€â”€ batch/
â”‚           â”œâ”€â”€ BatchList.vue      # æ‰¹æ¬¡åˆ—è¡¨
â”‚           â””â”€â”€ BatchDetail.vue    # æ‰¹æ¬¡è¯¦æƒ…
â”‚
â”œâ”€â”€ components/
â”‚   â””â”€â”€ monitor/
â”‚       â”œâ”€â”€ dashboard/
â”‚       â”‚   â”œâ”€â”€ ConfigCard.vue     # é…ç½®å¡ç‰‡
â”‚       â”‚   â”œâ”€â”€ TaskCard.vue       # ä»»åŠ¡å¡ç‰‡
â”‚       â”‚   â””â”€â”€ BatchCard.vue      # æ‰¹æ¬¡å¡ç‰‡
â”‚       â”‚
â”‚       â”œâ”€â”€ config/
â”‚       â”‚   â”œâ”€â”€ ConfigForm.vue     # é…ç½®è¡¨å•
â”‚       â”‚   â””â”€â”€ EventsEditor.vue   # äº‹ä»¶é…ç½®ç¼–è¾‘å™¨
â”‚       â”‚
â”‚       â””â”€â”€ task/
â”‚           â”œâ”€â”€ TaskForm.vue       # ä»»åŠ¡è¡¨å•
â”‚           â”œâ”€â”€ TargetUpload.vue   # CAä¸Šä¼ ç»„ä»¶
â”‚           â””â”€â”€ BatchAllocation.vue # æ‰¹æ¬¡åˆ†é…æ˜¾ç¤º
â”‚
â”œâ”€â”€ api/
â”‚   â””â”€â”€ monitor/
â”‚       â”œâ”€â”€ config.js              # é…ç½®ç›¸å…³API
â”‚       â”œâ”€â”€ task.js                # ä»»åŠ¡ç›¸å…³API
â”‚       â”œâ”€â”€ batch.js               # æ‰¹æ¬¡ç›¸å…³API
â”‚       â””â”€â”€ alert.js               # å‘Šè­¦ç›¸å…³API
â”‚
â”œâ”€â”€ stores/
â”‚   â””â”€â”€ monitor.js                 # PiniaçŠ¶æ€ç®¡ç†
â”‚
â””â”€â”€ utils/
    â””â”€â”€ websocket.js               # WebSocketå°è£…
```

### API æ¥å£è®¾è®¡

```javascript
// api/monitor/config.js
export default {
  // é…ç½®ç»Ÿè®¡
  getStats: () => request.get('/api/v2/monitor/config/stats'),
  
  // é…ç½®åˆ—è¡¨
  getList: (params) => request.get('/api/v2/monitor/config/list', { params }),
  
  // åˆ›å»ºé…ç½®
  create: (data) => request.post('/api/v2/monitor/config', data),
  
  // æ›´æ–°é…ç½®
  update: (id, data) => request.put(`/api/v2/monitor/config/${id}`, data),
  
  // åˆ é™¤é…ç½®
  delete: (id) => request.delete(`/api/v2/monitor/config/${id}`),
  
  // è·å–é…ç½®è¯¦æƒ…
  getDetail: (id) => request.get(`/api/v2/monitor/config/${id}`)
}

// api/monitor/task.js
export default {
  // ä»»åŠ¡ç»Ÿè®¡
  getStats: () => request.get('/api/v2/monitor/task/stats'),
  
  // ä»»åŠ¡åˆ—è¡¨
  getList: (params) => request.get('/api/v2/monitor/task/list', { params }),
  
  // åˆ›å»ºä»»åŠ¡
  create: (data) => request.post('/api/v2/monitor/task', data),
  
  // å¯åŠ¨/åœæ­¢ä»»åŠ¡
  updateStatus: (id, status) => request.put(`/api/v2/monitor/task/${id}/status`, { status }),
  
  // åˆ é™¤ä»»åŠ¡
  delete: (id) => request.delete(`/api/v2/monitor/task/${id}`),
  
  // ä»»åŠ¡è¯¦æƒ…
  getDetail: (id) => request.get(`/api/v2/monitor/task/${id}`),
  
  // åŒæ­¥æ™ºèƒ½ç›‘æ§ç›®æ ‡
  syncTargets: (id) => request.post(`/api/v2/monitor/task/${id}/sync`)
}

// api/monitor/batch.js
export default {
  // æ‰¹æ¬¡ç»Ÿè®¡
  getStats: () => request.get('/api/v2/monitor/batch/stats'),
  
  // æ‰¹æ¬¡åˆ—è¡¨
  getList: (params) => request.get('/api/v2/monitor/batch/list', { params }),
  
  // æ‰¹æ¬¡è¯¦æƒ…
  getDetail: (id) => request.get(`/api/v2/monitor/batch/${id}`),
  
  // é‡å¯æ‰¹æ¬¡
  restart: (id) => request.post(`/api/v2/monitor/batch/${id}/restart`)
}
```

---

## ğŸ“¦ æŠ€æœ¯æ ˆå»ºè®®

- **æ¡†æ¶**: Vue 3 + Vite
- **UIåº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router 4
- **HTTP**: Axios
- **WebSocket**: åŸç”Ÿ WebSocket API
- **å›¾è¡¨**: EChartsï¼ˆå¯é€‰ï¼Œç”¨äºæ‰¹æ¬¡ç»Ÿè®¡ï¼‰

---

## âœ… å¼€å‘æ£€æŸ¥æ¸…å•

### åç«¯ APIï¼ˆä¼˜å…ˆï¼‰
- [ ] é…ç½® CRUD æ¥å£
- [ ] ä»»åŠ¡ CRUD æ¥å£
- [ ] æ‰¹æ¬¡çŠ¶æ€æŸ¥è¯¢æ¥å£
- [ ] ç»Ÿè®¡æ•°æ®æ¥å£

### å‰ç«¯ç»„ä»¶
- [ ] ä¸‰ä¸ªé¦–é¡µå¡ç‰‡
- [ ] é…ç½®åˆ—è¡¨é¡µ
- [ ] é…ç½®åˆ›å»º/ç¼–è¾‘é¡µ
- [ ] ä»»åŠ¡åˆ—è¡¨é¡µ
- [ ] ä»»åŠ¡åˆ›å»ºé¡µï¼ˆåˆ†æ­¥éª¤ï¼‰
- [ ] æ‰¹æ¬¡åˆ—è¡¨é¡µ

### é›†æˆæµ‹è¯•
- [ ] åˆ›å»ºé…ç½®æµç¨‹
- [ ] åˆ›å»ºæ™ºèƒ½ç›‘æ§ä»»åŠ¡
- [ ] åˆ›å»ºæ‰¹é‡ç›‘æ§ä»»åŠ¡
- [ ] æ‰¹æ¬¡çŠ¶æ€å®æ—¶æ›´æ–°
- [ ] å‘Šè­¦å±•ç¤ºï¼ˆé€šçŸ¥ä¸­å¿ƒï¼‰

---

**è®¾è®¡å®Œæˆæ—¥æœŸ**: 2025-11-09  
**è®¾è®¡è€…**: AI Assistant  
**çŠ¶æ€**: âœ… æ–¹æ¡ˆå®Œæˆï¼Œå¾…å¼€å‘
